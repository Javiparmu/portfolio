---
import { getImage, Image } from "astro:assets";
import BranchIcon from "./icons/BranchIcon.astro";
import LinkedinLogo from "./icons/LinkedinLogo.astro";
import image from "../assets/images/avatar.webp";
import backgroundGradient from "../assets/images/background-gradient.webp";

const optimizedAvatar = await getImage({
  src: image,
  format: "webp",
  width: 500,
  height: 500,
});

const optimizedBackground = await getImage({
  src: backgroundGradient,
  format: "webp",
});
---

<Fragment slot="head">
  <link rel="preload" href={optimizedAvatar.src} as="image" />
  <link rel="preload" href={optimizedBackground.src} as="image" />
</Fragment>
<section class="px-5 pt-5 sm:pt-16 lg:overflow-hidden lg:pt-24">
  <Image
    src={optimizedBackground.options.src as ImageMetadata}
    width={optimizedBackground.attributes.width}
    height={optimizedBackground.attributes.height}
    class="absolute right-0 top-0 h-screen max-h-[1100px] -z-10 mt-16 md:mt-12 opacity-30"
    loading="eager"
    alt="Gradiente de fondo"
  />
  <div class="mx-auto max-w-7xl md:mx-16 2xl:mx-auto">
    <div
      class="gap-12 lg:grid lg:grid-cols-2 lg:gap-40 xl:gap-52 2xl:gap-64 items-center"
    >
      <div
        class="mx-auto max-w-md px-6 sm:max-w-2xl sm:text-center lg:flex lg:items-center lg:px-0 lg:text-left"
      >
        <div
          class="lg:py-24 flex flex-col items-center text-center lg:text-start lg:block"
        >
          <figure class="sm:flex sm:justify-center lg:justify-start">
            <BranchIcon />
          </figure>
          <h1
            class="text-4xl font-bold tracking-tight text-white sm:text-6xl lg:mt-6 shadow-outline"
          >
            <span class="block">Desarrollador Web</span>
            <span class="block text-indigo-400">Full Stack</span>
          </h1>
          <p
            class="mt-3 text-base text-gray-200 sm:mt-5 sm:text-xl lg:text-lg xl:text-xl"
          >
            Soy <span class="font-bold"
              >Javier Párraga<span></span>
              <span class="font-normal"
                >, especializado en diseñar y construir experiencias web a
                medida.</span
              >
            </span>
          </p>
          <aside class="flex items-center gap-5 mt-6">
            <a
              href="https://github.com/Javiparmu"
              target="_blank"
              aria-label="Go to github profile"
            >
              <Image
                width={30}
                height={30}
                src="/images/github-mark-white.png"
                alt="Logo de Github"
                class="hover:scale-105 hover:backdrop-brightness-200 rounded-full transition-all duration-300"
                loading="eager"
              />
            </a>
            <a
              href="https://www.linkedin.com/in/javierparragamunoz/"
              target="_blank"
              aria-label="Go to linkedin profile"
            >
              <LinkedinLogo
                size="37"
                color="white"
                class="hover:scale-105 hover:backdrop-brightness-200 rounded-full transition-all duration-300"
              />
            </a>
          </aside>
        </div>
      </div>
      <div class="flex items-center justify-center mt-12 lg:m-0">
        <figure class="mx-auto lg:px-0 overflow-hidden">
          <Image
            src={optimizedAvatar.options.src as ImageMetadata}
            width={optimizedAvatar.attributes.width}
            height={optimizedAvatar.attributes.height}
            class="rounded-full object-cover p-8"
            alt="Imagen de perfil de Javier Párraga"
            loading="eager"
            fetchpriority="high"
          />
        </figure>
      </div>
    </div>

    <style>
      h1 {
        text-wrap: balance;
      }

      p {
        text-wrap: pretty;
      }
    </style>
  </div>
</section>
